<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>予想投稿テキスト作成フォーム</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: sans-serif;
      font-size: 18px;
      line-height: 1.6;
    }
    body {
      padding: 10px;
    }
    .form-section {
      margin-bottom: 20px;
      width: 100%;
      max-width: 100%;
    }
    h1 {
      font-size: 24px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
      font-size: 40px;
    }
    button, input[type="radio"], select, textarea {
      font-size: 40px;
    }
    .radio-group {
      margin: 5px 0;
    }
    .output {
      white-space: pre-line;
      background: #f4f4f4;
      padding: 10px;
      margin-top: 20px;
      word-break: break-word;
      font-size: 36px;
      width: 100%;
      box-sizing: border-box;
    }
    textarea {
      width: 100%;
      font-size: 36px;
      box-sizing: border-box;
    }
    .generate-button {
      background-color: lightgreen;
      color: #000;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 10px;
      display: inline-block;
      width: 100%;
      font-size: 36px;
    }
    .copy-button {
      background-color: pink;
      color: #000;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: inline-block;
      margin-top: 10px;
      width: 100%;
      font-size: 36px;
    }
    .red-label {
      color: red;
    }
    .gray-label {
      color: rgba(0, 0, 0, 0.3);
    }
    #ichiretu-container label,#niretu-container label,#sanretu-container label, #factor-container label {
      color: blue; /* ラベルのテキスト色を青に */
    }
    #ichiretu-container label,#niretu-container label,#sanretu-container label {
      font-size: 50px;
      display: inline-block;
      margin-right: 10px;
      margin-bottom: 5px;
    }
    #factor-container label {
      font-size: 40px;
      display: inline-block;
      margin-right: 10px;
      margin-bottom: 5px;
    }
    #ichiretu-container input[type="checkbox"], #niretu-container input[type="checkbox"], #sanretu-container input[type="checkbox"], #factor-container input[type="checkbox"] {
      transform: scale(1.5);
      margin-right: 10px;
      margin-left: 15px;
      accent-color: red; /* チェック時の色を赤に */
    }

  </style>
</head>
<body>
  <div class="form-section">
    <label>【会場】</label>
    <select id="venue">
      <option value="">選んでください</option>
      <option>水沢</option>
      <option>名古屋</option>
      <option>川崎</option>
      <option>帯広</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label>【レース番号】</label>
    <select id="raceNumber">
      <option value="">選んでください</option>
      <option>1R</option>
      <option>2R</option>
      <option>3R</option>
      <option>4R</option>
      <option>5R</option>
      <option>6R</option>
      <option>7R</option>
      <option>8R</option>
      <option>9R</option>
      <option>10R</option>
      <option>11R</option>
      <option>12R</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label>【軸】</label>
    <select id="jiku"></select>
  </div>
  <br>
  <div class="form-section">
    <label>【軸の確度】</label>
    <select id="jikuType">
      <option value="">選んでください</option>
      <option>【SSS】頭固定で買えるレベル</option>
      <option>【S】複勝圏内には入る</option>
      <option>【A】穴狙いなので軸とは言い難い</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label>【選んだ理由】※複数選択可</label>
    <div id="factor-container"></div>
  </div>
  <br>
  <br>
  <br>
  <div class="form-section">
    <label class="gray-label">【危険な人気馬(自信の消し)】</label>
    <select id="kesiuma">
      <option value="">選んでください</option>
      <option>消せる馬がいない</option>
      <option>①</option>
      <option>②</option>
      <option>③</option>
      <option>④</option>
      <option>⑤</option>
      <option>⑥</option>
      <option>⑦</option>
      <option>⑧</option>
      <option>⑨</option>
      <option>⑩</option>
      <option>⑪</option>
      <option>⑫</option>
      <option>⑬</option>
      <option>⑭</option>
      <option>⑮</option>
      <option>⑯</option>
      <option>⑰</option>
      <option>⑱</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label class="gray-label">【消しの理由】</label>
    <select id="kesiumaType">
      <option value="">選んでください</option>
      <option>消せる馬がいない</option>
      <option>騎手</option>
      <option>騎手の過剰人気</option>
      <option>馬場コンディションに合わない</option>
      <option>展開不利</option>
      <option>戦績が悪い</option>
      <option>パドック</option>
      <option>鉄砲駆けしない</option>
      <option>人気の意味が不明</option>
      <option>ジンクス</option>
    </select>
  </div>
  <br>
  <br>
  <br>
  <div class="form-section">
    <label class="red-label">【お勧めの買い方】</label>
    <select id="kaikata">
      <option value="">選んでください</option>
      <option>単勝</option>
      <option>複勝</option>
      <option>ワイド</option>
      <option>馬連</option>
      <option>馬単</option>
      <option>３連複</option>
      <option>３連単</option>
      <option>------------</option>
       option>単勝／複勝</option>
      <option>３連単／３連複</option>
      <option>単勝／馬連</option>
      <option>単勝／馬単</option>
      <option>馬連／ワイド</option>
      <option>複勝／ワイド</option>
      <option>馬単／ワイド</option>
      <option>馬単(裏表流し)</option>
      <option>３連単(１列目→２列目⇔３列目)</option>
      <option>３連単(１列目⇔２列目→３列目)</option>
      <option>３連単１頭軸マルチ</option>
      <option>３連単２頭軸マルチ</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label class="red-label">【皆へのお勧め度】</label>
    <select id="confidence">
      <option value="">選んでください</option>
      <option value="120％">120％</option>
      <option value="100％">100％</option>
      <option value="75％">75％</option>
      <option value="50％">50％</option>
      <option value="25％">25％</option>
    </select>
  </div>
  <br>
  <div class="form-section">
    <label>【買い目：１列目】</label>
    <div id="ichiretu-container"></div>
  </div>
  <br>
  <div class="form-section">
    <label>【買い目：２列目】</label>
    <div id="niretu-container"></div>
  </div>
  <br>
  <div class="form-section">
    <label>【買い目：３列目】</label>
    <div id="sanretu-container"></div>
  </div>
  <br>
  <div class="form-section">
    <label>【コメント入力欄】</label>
    <textarea id="freeText" rows="4"></textarea>
  </div>
  <br>
  <br>
  <br>
  <button class="generate-button" onclick="generateMessage()">文章を生成</button>
  <div class="output" id="output"></div>
  <button class="copy-button" onclick="copyMessage()">コピー</button>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const jikus = "①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱".split("");
      const jikuSelect = document.getElementById("jiku");

      const defaultOption = document.createElement("option");
      defaultOption.value = "";
      defaultOption.textContent = "選んでください";
      jikuSelect.appendChild(defaultOption);

      jikus.forEach(j => {
        const option = document.createElement("option");
        option.value = j;
        option.textContent = j;
        jikuSelect.appendChild(option);
      });

      const factorList = ["パドック","騎手買い","持ち時計","調教","過去戦績","血統","展開有利（逃げる）","展開有利（追い込む）","ジンクス","他サイト参考","オリジナル指数"];
      const factorContainer = document.getElementById("factor-container");
      factorList.forEach(f => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "checkbox";
        input.name = "factor";
        input.value = f;
        label.appendChild(input);
        label.appendChild(document.createTextNode(f));
        factorContainer.appendChild(label);
      });

      const ichiretuContainer = document.getElementById("ichiretu-container");
      jikus.forEach(j => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "checkbox";
        input.name = "ichiretu";
        input.value = j;
        label.appendChild(input);
        label.appendChild(document.createTextNode(j));
        ichiretuContainer.appendChild(label);
      });

      const niretuContainer = document.getElementById("niretu-container");
      jikus.forEach(j => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "checkbox";
        input.name = "niretu";
        input.value = j;
        label.appendChild(input);
        label.appendChild(document.createTextNode(j));
        niretuContainer.appendChild(label);
      });

      const sanretuContainer = document.getElementById("sanretu-container");
      jikus.forEach(j => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "checkbox";
        input.name = "sanretu";
        input.value = j;
        label.appendChild(input);
        label.appendChild(document.createTextNode(j));
        sanretuContainer.appendChild(label);
      });
    });

    function getSelectValue(id) {
      const el = document.getElementById(id);
      return el ? el.value : '';
    }
    function getValues(name) {
      return Array.from(document.querySelectorAll(`input[name='${name}']:checked`)).map(e => e.value);
    }
    function generateMessage() {
      const venue = getSelectValue('venue');
      const raceNumber = getSelectValue('raceNumber');
      const jiku = getSelectValue('jiku');
      const jikuType = getSelectValue('jikuType');
      const factorsArray = getValues('factor');
      const factors = factorsArray.join('・');
      const kesiuma = getSelectValue('kesiuma');
      const kesiumaType = getSelectValue('kesiumaType');
      const confidence = getSelectValue('confidence');
      const kaikata = getSelectValue('kaikata');
      const ichiretuArray = getValues('ichiretu');
      const ichiretu = ichiretuArray.join('');
      const niretu = getValues('niretu').join('');
      const sanretu = getValues('sanretu').join('');
      const free = document.getElementById('freeText').value;

      let msg = `【${venue}${raceNumber}】\n`;

      // 条件①：軸セクション
      if (jiku && jiku.trim() !== '') {
        msg += `軸：${jiku}\n`;
        if (jikuType && jikuType.trim() !== '') {
          msg += `軸の確度：${jikuType}\n`;
        }
        if (factorsArray.length > 0) {
          msg += `選んだ理由：${factors}\n`;
        }
        msg += `\n`;
      }

      // 条件②：消し馬セクション
      if (kesiuma && kesiuma.trim() !== '') {
        msg += `危険な人気馬(自信の消し)：${kesiuma}\n`;
        if (kesiumaType && kesiumaType.trim() !== '') {
          msg += `消しの理由：${kesiumaType}\n`;
        }
        msg += `\n`;
      }

      // 条件③：お勧め度
      if (confidence && confidence.trim() !== '') {
        msg += `皆へのお勧め度：${confidence}\n`;
      }

      // 条件④：買い方
      if (kaikata && kaikata.trim() !== '') {
        msg += `お勧めの買い方：${kaikata}\n`;
      }

      // 条件⑤：三連系の列
      if (ichiretuArray.length > 0) {
        msg += `１列目：${ichiretu}\n２列目：${niretu}\n３列目：${sanretu}\n`;
      }

      // フリーテキスト
      if (free && free.trim() !== '') {
        msg += `\n${free}`;
      }

      document.getElementById('output').textContent = msg;
    }
    function copyMessage() {
      const text = document.getElementById('output').textContent;
      navigator.clipboard.writeText(text).then(() => alert('コピーしました！'));
    }
  </script>
</body>
</html>
